.editor {
  width: 100%;
  height: 100%;
  /* Prevent pull-to-refresh on mobile */
  overscroll-behavior: none;
}

/* Improve touch interaction area for the canvas */
.editor .react-flow {
  touch-action: none;
}

.editor .react-flow__controls {
  bottom: auto;
  top: var(--space-sm);
  right: var(--space-sm);
  left: auto;
  box-shadow: var(--shadow-md);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.editor .react-flow__controls-button {
  width: var(--touch-target);
  height: var(--touch-target);
  border: none;
  background: var(--color-surface);
}

.editor .react-flow__controls-button:hover {
  background: var(--color-bg);
}

/* Larger touch targets for handles on mobile */
.editor .react-flow__handle {
  width: 20px;
  height: 20px;
}

/* Even larger hit area for connection handles */
.editor .react-flow__handle::after {
  content: '';
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
}

/* Improve edge selection on touch */
.editor .react-flow__edge {
  cursor: pointer;
}

.editor .react-flow__edge-path {
  stroke-width: 4;
}

/* Larger interaction area for edges on mobile */
.editor .react-flow__edge-interaction {
  stroke-width: 20;
}

.editor-minimap {
  display: none;
}

/* Show minimap on larger screens */
@media (min-width: 768px) {
  .editor-minimap {
    display: block;
    bottom: var(--space-sm) !important;
    right: var(--space-sm) !important;
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-md);
  }

  /* Smaller handles on desktop where mouse precision is better */
  .editor .react-flow__handle {
    width: 14px;
    height: 14px;
  }

  .editor .react-flow__edge-path {
    stroke-width: 3;
  }
}

/* Node additional styles */
.node-diameter {
  font-size: 0.625rem;
  color: var(--color-text-muted);
  font-style: italic;
}

.node-required {
  font-size: 0.625rem;
  color: var(--color-text-muted);
}
